# CM3D2CameraUtility.Plugin
　CM3D2のカメラ機能を拡張します。その他主に撮影用の機能を追加します。  
　バンク回転、パース変更、背景位置変更、一人称視点、こっち見て機能、  
　操作パネル消去の機能を加えます。  
　キーボード操作のみの対応です。  

#機能・操作方法紹介
##パース、回転機能（VR非対応）
　パース：「れ」「け」「む」（「;」「:」「]」）  
　バンク回転：「る」「め」「ろ」（「.」「/」「\」）  
　メインカメラのパース変更、および縦回転機能です。  
　「け」「め」がそれぞれ初期化です。  
　キーの対応はIllusion系のゲームに合わせています。  

##背景位置変更機能
　前後左右：「↑」「↓」「←」「→」  
　上下（高さ）：「PageUP」「PageDown」  
　横回転：「Delete」「End」  
　縦回転：「Insert」「Home」  
　Shiftキーを押しながらだと移動距離が1/10になります。微調整にどうぞ。  
　縦回転を使うと操作が混乱しやすいので極力最後に使うことをお薦めします。  
　Altキーを押しながら各キーを押すとそれぞれの操作分が初期化されます。  
　BSキーを押すと移動関係をまとめて初期化します。  
　背景が変更されると移動は初期化されます。  

　VR版はゲーム内で使われているキーと一部重複するため操作が変わります。  
　前後左右：「I」「J」「K」「L」  
　上下（高さ）：「0(Zero)」「P」  
　横回転：「U」「O」  
　縦回転：「8」「9」  
　Shift、Alt及びBSの動作は通常版と同じです。  

##こっち見て機能
　こっち見て／通常切り替え：「G」  
　視線及び顔の向き切り替え：「T」  
　　　無し = 0  
　　　無視する = 1  
　　　顔を向ける = 2  
　　　顔だけ動かす = 3  
　　　顔をそらす = 4  
　　　目と顔を向ける = 5  
　　　目だけ向ける = 6  
　　　目だけそらす = 7  
　上記の7種を順に切り替えます。切り替え時の番号はコンソールに表示されます。  
　「G」キーは上記の表での0および5の切り替えです。  
　一人称視点時にこっち見てを使うと角度制限で見てくれないことがあるので  
　自動的に「無し」の状態になりますが、そこから更に変更することは可能です。  

##夜伽時一人称視点（VR一部対応）
　切り替え：「F」  
　夜伽時に主人公らしき物体の視点に切り替えます。もう一度押すと元に戻ります。  
　主人公が表示されないシーンでは妙な場所に飛ぶので手動で解除してください。  
　男変更MODへの対応のため一人称視点時には男の頭が消えます。  
　VRモードで追従すると酔いの原因となるので主人公の視点位置に移動のみします。  
　体勢が変わっても追従しないので適時キーを押してください。  


・パネル非表示（VR非対応）
　切り替え：「Tab」  
　エディット及び夜伽時にステータスや操作パネルを消します。  
　もう一度押すと表示します。  
　各パネルには折りたたみ機能がありますが、こちらは一括で消し去ります。  


　VR版は制作者が所持していないため仮対応です。  
　もし正常に動かない機能があれば、したらばの改造スレッドに報告して頂けると  
　助かります。  


#使い方
　ReiPatcherを使用しUnityInjectorを導入します。導入方法は割愛。  
　DLLをCM3D2\UnityInjectorにコピーします。  
　（CM3D2\UnityInjector\UnityInjectorにならないように！）  
　ゲームを起動します。  
　ゲームと共に起動するコンソールに  

　Loaded Plugin: 'Camera Utility 2.0.1.1'  

　Adding Component: 'CameraUtility'  

　という表示があれば導入は成功です。  

　（重要）1.0.0.0から更新される方へ  
　1.0.0.0リリース時リネームミスによりファイル名が  
　CM3D2CamerUtility.Plugin.dll  
　になってしまっていたのでそのままコピーしても上書きできず  
　両方残っていまいます。  
　お手数ですが古い方は手動で削除してやってください。  


#ソースについて
　ソースのビルドに必要な追加の参照設定は  
　UnityEngine.dll、UnityInjector.dll、Assembly-CSharp.dll  
　になります。  


#変更履歴
・CM3D2CameraUtility.Plugin.dll  
　2.0.1.2　夜伽開始時にNullReferenceExceptionを吐く不具合を修正。  

　2.0.1.1　一人称視点の男変更MODへの対応。  

　2.0.0.0　一人称視点、こっち見て機能、パネル消去実装。  
　　　　　 立ち位置変更の縦回転、初期化機能実装。  

　1.1.0.1　移動量を減らすキーをCtrlからShiftへ変更。  
　　　　　 VRモードに対応（移動のみ）。  

　1.1.0.0　立ち位置変更機能追加。  

　1.0.0.0　初版  
